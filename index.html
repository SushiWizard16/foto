<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GR - Mapo's Gallery</title>
  <link rel="stylesheet" href="style.css">
  <style>
    :root {
      --bg-color: #f0f0f0;
      --header-color: #222;
      --text-color: white;
    }
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background-color: var(--bg-color);
    }
    header {
      text-align: center;
      padding: 2rem;
      background-color: var(--header-color);
      color: var(--text-color);
    }
    .gallery {
      column-count: 4;
      column-gap: 15px;
      padding: 20px;
      overflow: visible;
    }
    .img-wrapper {
      overflow: hidden;
      margin-bottom: 15px;
    }
    .img-wrapper img {
      width: 100%;
      display: block;
      transition: transform 0.3s;
      transform-origin: center;
    }
    .img-wrapper img:hover {
      transform: scale(1.02);
    }
    @media (max-width: 800px) {
      .gallery {
        column-count: 3;
      }
    }
    @media (max-width: 500px) {
      .gallery {
        column-count: 2;
      }
      header h1 {
        font-size: 1.5rem;
      }
      header div {
        width: 40px;
        height: 40px;
      }
    }
    .lightbox {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
    }
    .lightbox-img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 10px;
    }
    .close, .prev, .next {
      cursor: pointer;
      position: absolute;
      color: white;
      user-select: none;
      font-size: 40px;
    }
    .close { top: 20px; right: 30px; }
    .prev, .next { top: 50%; padding: 16px; font-size: 50px; margin-top: -25px; }
    .prev { left: 20px; }
    .next { right: 20px; }
    .header-flex {
      display:flex; 
      align-items:center; 
      justify-content:center; 
      gap:10px; 
      padding:2rem; 
      background-color:#222; 
      color:white; 
      flex-wrap:wrap;
    }
    .header-logo-container {
      width:100px; 
      height:100px; 
      display:flex; 
      align-items:center; 
      justify-content:center;
    }
    .header-logo-container img {
      width:100%; 
      height:100%; 
      object-fit:contain;
    }
    .header-title {
      margin:0; 
      font-size:2rem;
    }
    .recommendations-container {
      display:flex; 
      justify-content:center; 
      align-items:flex-start; 
      gap:20px; 
      flex-wrap:wrap; 
      margin:20px;
    }
    .music-player-cc {
      flex:1; 
      min-width:250px; 
      max-width:350px; 
      min-height:100px; 
      border-radius:20px; 
      overflow:hidden; 
      background:rgba(48, 48, 52, 0.362); 
      border:none; 
      backdrop-filter: blur(20px); 
      display:flex; 
      flex-direction:row; 
      align-items:center; 
      padding:15px; 
      font-family:-apple-system, BlinkMacSystemFont, sans-serif; 
      box-shadow:0 4px 10px rgba(0,0,0,0.15);
    }
    .music-cover {
      width:35%; 
      flex-shrink:0; 
      border-radius:12px; 
      overflow:hidden; 
      margin-right:10px;
    }
    .music-cover img {
      width:100%; 
      height:auto; 
      object-fit:contain;
    }
    .music-info {
      width:65%; 
      color:rgba(255, 255, 255, 0.857); 
      display:flex; 
      flex-direction:column; 
      align-items:flex-start; 
      padding:5px;
    }
    .music-info span.song-title {
      font-weight: 600;
      font-size: 14px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .music-info span.song-subtitle {
      font-size: 12px;
      color: rgba(221, 221, 233, 0.981);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .timeline-container {
      width:100%; 
      margin:10px 0;
    }
    .timeline-times {
      width:100%; 
      display:flex; 
      justify-content:space-between; 
    }
    .timeline-times span {
      font-size: 12px;
      font-weight: 400;
      color: rgba(255, 255, 255, 0.566);
      font-family: Arial, sans-serif;
    }
    .timeline-bar {
      width:100%; 
      height:5px; 
      background:rgba(255,255,255,0.2); 
      border-radius:2.5px; 
      position:relative; 
      margin-top:3px;
    }
    #timeline-progress {
      width:0%; 
      height:100%; 
      background:rgba(255, 255, 255, 0.83); 
      border-radius:2.5px;
    }
    .music-controls {
      display:flex; 
      gap:35px; 
      justify-content:center; 
      align-items:center; 
      width:100%; 
      margin-top:5px; 
      font-size:22px;
    }
    .music-controls div {
      font-family: Arial
    }
    footer {
      background-color:#222; 
      color:white; 
      text-align:center; 
      padding:25px 0; 
      display:flex; 
      justify-content:center; 
      align-items:center; 
      gap:10px; 
      flex-wrap:wrap; 
      font-size: 1.2rem;
    }
    footer a {
      display:inline-flex; 
      align-items:center;
    }
  </style>
</head>
<body>
  <header class="header-flex">
    <div class="header-logo-container">
      <img src="images/logo.png" alt="Logo">
    </div>
    <h1 class="header-title">Mapo's Gallery</h1>
  </header>
  <main>
    <div class="gallery">
      <div class="img-wrapper"><img src="images/foto1.webp" alt="Foto 1"></div>
      <div class="img-wrapper"><img src="images/foto2.webp" alt="Foto 2"></div>
      <div class="img-wrapper"><img src="images/foto3.webp" alt="Foto 3"></div>
      <div class="img-wrapper"><img src="images/foto4.webp" alt="Foto 4"></div>
      <div class="img-wrapper"><img src="images/foto5.webp" alt="Foto 5"></div>
      <div class="img-wrapper"><img src="images/foto6.webp" alt="Foto 6"></div>
      <div class="img-wrapper"><img src="images/foto7.webp" alt="Foto 7"></div>
      <div class="img-wrapper"><img src="images/foto8.webp" alt="Foto 8"></div>
      <div class="img-wrapper"><img src="images/foto9.webp" alt="Foto 9"></div>
      <div class="img-wrapper"><img src="images/foto10.webp" alt="Foto 10"></div>
      <div class="img-wrapper"><img src="images/foto11.webp" alt="Foto 11"></div>
      <div class="img-wrapper"><img src="images/foto12.webp" alt="Foto 12"></div>
      <div class="img-wrapper"><img src="images/foto13.webp" alt="Foto 13"></div>
      <div class="img-wrapper"><img src="images/foto14.webp" alt="Foto 14"></div>
      <div class="img-wrapper"><img src="images/foto15.webp" alt="Foto 15"></div>
      <div class="img-wrapper"><img src="images/foto16.webp" alt="Foto 16"></div>
      <div class="img-wrapper"><img src="images/foto17.webp" alt="Foto 17"></div>
      <div class="img-wrapper"><img src="images/foto18.webp" alt="Foto 18"></div>
      <div class="img-wrapper"><img src="images/foto19.webp" alt="Foto 19"></div>
      <div class="img-wrapper"><img src="images/foto20.webp" alt="Foto 20"></div>
      <div class="img-wrapper"><img src="images/foto21.webp" alt="Foto 21"></div>
      <div class="img-wrapper"><img src="images/foto22.webp" alt="Foto 22"></div>
      <div class="img-wrapper"><img src="images/foto23.webp" alt="Foto 23"></div>
      <div class="img-wrapper"><img src="images/foto24.webp" alt="Foto 24"></div>
      <div class="img-wrapper"><img src="images/foto25.webp" alt="Foto 25"></div>
      <div class="img-wrapper"><img src="images/foto26.webp" alt="Foto 26"></div>
      <div class="img-wrapper"><img src="images/foto27.webp" alt="Foto 27"></div>
      <div class="img-wrapper"><img src="images/foto28.webp" alt="Foto 28"></div>
      <div class="img-wrapper"><img src="images/foto29.webp" alt="Foto 29"></div>
      <div class="img-wrapper"><img src="images/foto30.webp" alt="Foto 30"></div>
      <div class="img-wrapper"><img src="images/foto31.webp" alt="Foto 31"></div>
      <div class="img-wrapper"><img src="images/foto32.webp" alt="Foto 32"></div>
      <div class="img-wrapper"><img src="images/foto33.webp" alt="Foto 33"></div>
      <div class="img-wrapper"><img src="images/foto34.webp" alt="Foto 10"></div>
      <div class="img-wrapper"><img src="images/foto35.webp" alt="Foto 11"></div>
      <div class="img-wrapper"><img src="images/foto36.webp" alt="Foto 12"></div>
      <div class="img-wrapper"><img src="images/foto37.webp" alt="Foto 13"></div>
      <div class="img-wrapper"><img src="images/foto38.webp" alt="Foto 14"></div>
      <div class="img-wrapper"><img src="images/foto40.webp" alt="Foto 16"></div>
      <div class="img-wrapper"><img src="images/foto41.webp" alt="Foto 17"></div>
      <div class="img-wrapper"><img src="images/foto42.webp" alt="Foto 18"></div>
      <div class="img-wrapper"><img src="images/foto43.webp" alt="Foto 19"></div>
      <div class="img-wrapper"><img src="images/foto44.webp" alt="Foto 20"></div>
      <div class="img-wrapper"><img src="images/foto45.webp" alt="Foto 10"></div>
      <div class="img-wrapper"><img src="images/foto46.webp" alt="Foto 11"></div>
      <div class="img-wrapper"><img src="images/foto47.webp" alt="Foto 12"></div>
      <div class="img-wrapper"><img src="images/foto48.webp" alt="Foto 13"></div>
      <div class="img-wrapper"><img src="images/foto49.webp" alt="Foto 14"></div>
      <div class="img-wrapper"><img src="images/foto50.webp" alt="Foto 15"></div>
      <div class="img-wrapper"><img src="images/foto51.webp" alt="Foto 16"></div>
      <div class="img-wrapper"><img src="images/foto52.webp" alt="Foto 17"></div>
      <div class="img-wrapper"><img src="images/foto53.webp" alt="Foto 18"></div>

    </div>
  </main>
  <div class="recommendations-container">
    <section class="music-player-cc">
      <!-- Copertina -->
      <div class="music-cover">
        <img id="cover-image" src="" alt="Copertina Canzone">
      </div>

      <!-- Info e timeline -->
      <div class="music-info">
        <span class="song-title">The Spins</span>
        <span class="song-subtitle">Mac Miller, Empire Of The Sun</span>

        <!-- Timeline -->
        <div class="timeline-container">
          <div class="timeline-times">
            <span id="time-start">0:00</span>
            <span id="time-end">3:30</span>
          </div>
          <div class="timeline-bar">
            <div id="timeline-progress"></div>
          </div>
        </div>

        <!-- Pulsanti sotto -->
        <div class="music-controls">
          <div>⏮</div>
          <div>▶</div>
          <div>⏭</div>
        </div>
      </div>
    </section>
    <script>
      // Imposta il tempo finale manualmente (in secondi)
      const totalTime = 195; // durata canzone

      // Imposta il tempo iniziale random, sempre >35s e < totalTime
      const minStart = 35;
      const currentTime = Math.floor(Math.random() * (totalTime - minStart)) + minStart;

      // Aggiorna la barra di progresso
      const progressPercent = (currentTime / totalTime) * 100;
      document.getElementById("timeline-progress").style.width = progressPercent + "%";

      // Mostra il tempo iniziale in mm:ss
      const minutes = Math.floor(currentTime / 60);
      const seconds = currentTime % 60;
      document.getElementById("time-start").textContent = `${minutes}:${seconds.toString().padStart(2,'0')}`;

      // Mostra il tempo finale in mm:ss
      const endMinutes = Math.floor(totalTime / 60);
      const endSeconds = totalTime % 60;
      document.getElementById("time-end").textContent = `${endMinutes}:${endSeconds.toString().padStart(2,'0')}`;
    </script>
    <script>
      const coverUrl = "https://i.scdn.co/image/ab67616d0000b273463d73e65c7b95a17898388b"; 
      document.getElementById("cover-image").src = coverUrl;
    </script>
  </div>
  <div id="lightbox" class="lightbox">
    <span class="close">&times;</span>
    <img class="lightbox-img" src="" alt="">
    <a class="prev">&#10094;</a>
    <a class="next">&#10095;</a>
  </div>
  <script>
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }
    const galleryContainer = document.querySelector('.gallery');
    const items = Array.from(galleryContainer.children);
    const shuffled = shuffle(items);
    shuffled.forEach(item => galleryContainer.appendChild(item));
    const gallery = document.querySelectorAll('.gallery img');
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.querySelector('.lightbox-img');
    const closeBtn = document.querySelector('.close');
    const nextBtn = document.querySelector('.next');
    const prevBtn = document.querySelector('.prev');
    let currentIndex = 0;
    gallery.forEach((img, index) => {
      img.addEventListener('click', () => {
        lightbox.style.display = 'flex';
        lightboxImg.src = img.src;
        currentIndex = index;
      });
    });
    const closeLightbox = () => { lightbox.style.display = 'none'; };
    closeBtn.addEventListener('click', closeLightbox);
    lightbox.addEventListener('click', (e) => { if(e.target === lightbox) closeLightbox(); });
    document.addEventListener('keydown', (e) => { if(e.key === 'Escape') closeLightbox(); });
    nextBtn.addEventListener('click', () => {
      currentIndex = (currentIndex + 1) % gallery.length;
      lightboxImg.src = gallery[currentIndex].src;
    });
    prevBtn.addEventListener('click', () => {
      currentIndex = (currentIndex - 1 + gallery.length) % gallery.length;
      lightboxImg.src = gallery[currentIndex].src;
    });
  </script>
  <script>
    gallery.forEach(img => {
      if(img.naturalWidth > img.naturalHeight) {
        img.parentElement.classList.add("landscape");
      }
    });
  </script>
  <footer>
  <span>© Giovanni Russo</span>

  <!-- Instagram ufficiale -->
  <a href="https://www.instagram.com/giovannirs_16" target="_blank">
    <img src="https://upload.wikimedia.org/wikipedia/commons/e/e7/Instagram_logo_2016.svg" alt="Instagram" width="20" height="20">
  </a>

  <!-- WhatsApp -->
  <a href="https://wa.me/393314316133" target="_blank">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" width="20" height="20">
  </a>
</footer>
</body>
</html>